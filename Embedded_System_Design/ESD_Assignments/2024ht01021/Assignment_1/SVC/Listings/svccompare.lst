


ARM Macro Assembler    Page 1 


    1 00000000         ; TITLE   : Assignment Solution : Q.3
    2 00000000         ; NAME   : ASHUTOSH RAJENDRA KARVE
    3 00000000         ; BITS_ID  : 2024ht01021
    4 00000000         ; DATE   : 08/09/2024
    5 00000000         ; PLACE   : PUNE
    6 00000000         
    7 00000000                 AREA             RESET, CODE, READONLY
    8 00000000                 EXPORT           __Vectors
    9 00000000         __Vectors
   10 00000000 20001000 
              00000001 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000001 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000         DCD              0x20001000, Reset_Handler+1,0,0
,0,0,0,0,0,0,0,SVC_handler+1,0,0,0,0,0,0,0,0,0,0,0
   11 0000005C         
   12 0000005C                 AREA             mycode,CODE, READONLY
   13 00000000                 ENTRY
   14 00000000                 EXPORT           Reset_Handler
   15 00000000         
   16 00000000         Reset_Handler
   17 00000000 4915            LDR              R1, =0x20000200
   18 00000002 F381 8809       MSR              PSP, R1
   19 00000006         
   20 00000006 F04F 0003       MOV              R0, #3
   21 0000000A F380 8814       MSR              CONTROL, R0
   22 0000000E 4F13            LDR              R7, =SRC
   23 00000010 6839            LDR              R1, [R7]    ; Load first parame
                                                            ter (1021)
   24 00000012 687A            LDR              R2, [R7, #4] ; Load second para
                                                            meter (1021)
   25 00000014 F8DF 8048       LDR              R8, =DST
   26 00000018         
   27 00000018 DF15            SVC              21          ; SVC call with num
                                                            ber 21
   28 0000001A E7FE    STOP    B                STOP
   29 0000001C         
   30 0000001C         
   31 0000001C         SVC_handler
   32 0000001C B500            PUSH             {lr}
   33 0000001E F01E 0F04       TST              LR, #4



ARM Macro Assembler    Page 2 


   34 00000022 BF0C            ITE              EQ
   35 00000024 F3EF 8008       MRSEQ            R0, MSP
   36 00000028 F3EF 8009       MRSNE            R0, PSP
   37 0000002C         
   38 0000002C 6981            LDR              R1, [R0, #24] ; Load the return
                                                             address
   39 0000002E F811 1C02       LDRB             R1, [R1, #-2] ; Extract SVC num
                                                            ber
   40 00000032         
   41 00000032 2915            CMP              R1, #21     ; Compare SVC numbe
                                                            r with 21
   42 00000034 D104            BNE              Subtract    ; If not 21, go to 
                                                            Subtract
   43 00000036         
   44 00000036         ; If SVC number matches, perform addition
   45 00000036 EB01 0002       ADD              R0, R1, R2  ; R0 = R1 + R2
   46 0000003A F8C8 0000       STR              R0, [R8]    ; Store result in D
                                                            ST
   47 0000003E E003            B                EndSVC      ; End of SVC handle
                                                            r
   48 00000040         
   49 00000040         Subtract
   50 00000040         ; If SVC number does not match, perform subtraction
   51 00000040 EBA1 0002       SUB              R0, R1, R2  ; R0 = R1 - R2
   52 00000044 F8C8 0000       STR              R0, [R8]    ; Store result in D
                                                            ST
   53 00000048         
   54 00000048         EndSVC
   55 00000048 BD00            POP              {pc}
   56 0000004A         
   57 0000004A         ; Data Section
   58 0000004A 00 00 000003FD 
              000003FD SRC     DCD              1021, 1021  ; Parameters (last 
                                                            5 digits of BITS ID
                                                            )
   59 00000054 00000000 
                       DST     DCD              0           ; Destination to st
                                                            ore the result
   60 00000058         
   61 00000058 20000200 
              00000000 
              00000000         AREA             RES, DATA, READWRITE
   62 00000000                 END
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\svccompare.d -o.\objects\svccompare.o -I.\RTE\_Target
_1 -IC:\Keil_v5\ARM\PACK\Keil\STM32F4xx_DFP\2.17.1\Drivers\CMSIS\Device\ST\STM3
2F4xx\Include -IC:\Keil_v5\ARM\CMSIS\Include --predefine="__EVAL SETA 1" --pred
efine="__UVISION_VERSION SETA 526" --predefine="STM32F407xx SETA 1" --list=.\li
stings\svccompare.lst SVCcompare.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

RESET 00000000

Symbol: RESET
   Definitions
      At line 7 in file SVCcompare.s
   Uses
      None
Comment: RESET unused
__Vectors 00000000

Symbol: __Vectors
   Definitions
      At line 9 in file SVCcompare.s
   Uses
      At line 8 in file SVCcompare.s
Comment: __Vectors used once
2 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

DST 00000054

Symbol: DST
   Definitions
      At line 59 in file SVCcompare.s
   Uses
      At line 25 in file SVCcompare.s
Comment: DST used once
EndSVC 00000048

Symbol: EndSVC
   Definitions
      At line 54 in file SVCcompare.s
   Uses
      At line 47 in file SVCcompare.s
Comment: EndSVC used once
Reset_Handler 00000000

Symbol: Reset_Handler
   Definitions
      At line 16 in file SVCcompare.s
   Uses
      At line 10 in file SVCcompare.s
      At line 14 in file SVCcompare.s

SRC 0000004C

Symbol: SRC
   Definitions
      At line 58 in file SVCcompare.s
   Uses
      At line 22 in file SVCcompare.s
Comment: SRC used once
STOP 0000001A

Symbol: STOP
   Definitions
      At line 28 in file SVCcompare.s
   Uses
      At line 28 in file SVCcompare.s
Comment: STOP used once
SVC_handler 0000001C

Symbol: SVC_handler
   Definitions
      At line 31 in file SVCcompare.s
   Uses
      At line 10 in file SVCcompare.s
Comment: SVC_handler used once
Subtract 00000040

Symbol: Subtract
   Definitions
      At line 49 in file SVCcompare.s
   Uses
      At line 42 in file SVCcompare.s
Comment: Subtract used once
mycode 00000000




ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

Symbol: mycode
   Definitions
      At line 12 in file SVCcompare.s
   Uses
      None
Comment: mycode unused
8 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

RES 00000000

Symbol: RES
   Definitions
      At line 61 in file SVCcompare.s
   Uses
      None
Comment: RES unused
1 symbol
347 symbols in table
